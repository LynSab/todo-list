<!DOCTYPE html>
<html>
<head>
    <title>Todo List</title>
    <style>
        #delete-button {
            margin-left: 10px;
        }
        #edit-button {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Todo List</h1>
    <h3>Add your items below</h3>

     <input type="text" id="addNewItem">
     <button onclick="addToList()">Add</button><br><br>
    
    <form id="list"></form>
    
    <script>
        const listItems = [
            {task: 'Clean bathroom', checked: false}, 
            {task: 'Take out bin', checked: true}
        ]

        function addToList() {
            const addItem = document.getElementById("addNewItem").value
            listItems.push({task: addItem, checked: false})
            reloadList()
        }

        function removeItem(index) {
            listItems.splice(index, 1)
            reloadList()
        }

        function editItem(index) {
            listItems[index].task = "changed item"
            reloadList()
        }
        
        function reloadList() {
            const listForm = document.getElementById("list")
            listForm.innerHTML = ""

            listItems.forEach(function(item, index) {
                const itemId = "item" + index
    
                const newItem = document.createElement("input")
                newItem.setAttribute("type", "checkbox")
                newItem.setAttribute("id", itemId)
                newItem.checked = item.checked
    
                const newLabel = document.createElement("label")
                newLabel.setAttribute("for", itemId)
                newLabel.textContent = item.task

                const deleteButton = document.createElement("button")
                deleteButton.textContent = "x"
                deleteButton.setAttribute("id", 'delete-button')
                deleteButton.setAttribute("onclick", "removeItem(" + index + ")")

                const editButton = document.createElement("button")
                editButton.textContent = "Edit"
                editButton.setAttribute("id", 'edit-button')
                editButton.setAttribute("onclick", "editItem(" + index + ")")
    
                const newLine = document.createElement("br")
    
                listForm.appendChild(newItem)
                listForm.appendChild(newLabel)
                listForm.appendChild(editButton)
                listForm.appendChild(deleteButton)
                listForm.appendChild(newLine)
            })
        }

        reloadList()

    </script>
</body>
</html>